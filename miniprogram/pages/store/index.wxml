<view class="page">
  <view class="header">
    <!-- 可以设置数组和对象，对象有利于指定key  抽离切换栏组件-->
    <tabs tabs="{{ [{value:'nearby',label:'附近门店'},{value:'recent',label:'常去门店'}] }}"></tabs>
    <input type="text" class="search" placeholder="搜索门店" />
  </view>
  <!-- map 区域  从官方直接拿 longitude latitude经纬度 bindmarkertap点开时候的位置 -->
  <map id="store-map" class="store-map" latitude="{{latitude}}" longitude="{{longitude}}" show-location markers="{{markers}}">
    <image bindtap="gotoCurrentLocation" class="current-icon" src="../../assets/images/current.png"></image>
  </map>
  <!-- 收起地图文字信息  -->
  <view class="collapse-area">
    <view class="collapse-tip">收起地图</view>
    <image src="../../assets/images/up.png"></image>
  </view>
  <!-- 店铺信息 -->
  <scroll-view class="store-list" scroll-y>
    <view class="store-box" wx:for="{{storeList}}" wx:key="index">
      <view class="info-area">
        <view class="name">{{ item.name }}</view>
        <view class="info">{{item.address}}</view>
        <view class="info">营业时间: {{item.opening_time}}</view>
        <!-- <view class="tag">{{item.status}}</view> 这里需要对数据进行处理，小程序过滤器有点问题 -->
        <view class="tag">{{dict[item.status]}}</view>
      </view>
      <view class="location-area">
        <view class="distance">距离 {{item.distance}} km</view>
        <view class="action-area">
          <view class="location">
            <image class="location" bindtap="navigateLocation" data-location="{{item.location}}" src="../../assets/images/location.jpg"></image>
            <image class="phone" bindtap="call" data-phone="{{item.phone}}"  src="../../assets/images/phone.jpg"></image>
          </view>
        </view>
      </view>
    </view>
  </scroll-view>
</view>